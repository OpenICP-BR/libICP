<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->
<B><A HREF="icp_new_cert_from_file.3.html">icp_new_cert_from_file(3)</A></B>         OpenICP-BR         <B><A HREF="icp_new_cert_from_file.3.html">icp_new_cert_from_file(3)</A></B>




</PRE>
<H2>NAME</H2><PRE>
       icp_new_cert_from_file - Loads one or more <B><A HREF="icp_cert.3.html">icp_cert(3)</A></B> from a PEM or
       DER file


</PRE>
<H2>SYNOPSIS</H2><PRE>
         #include "libICP.h"

         int icp_new_cert_from_file(char *path, icp_cert **certs, icp_errc **errcs);


</PRE>
<H2>EXAMPLE</H2><PRE>
         #include "libICP.h"

         icp_cert *certs;
         icp_errc *errcs;
         int ok;

         ok = icp_new_cert_from_file("my_certs.pem", &amp;certs, &amp;errcs);
         printf("icp_new_cert_from_file(...) = %d\n", ok);
         for (int i=0; errcs != NULL &amp;&amp; errcs[i] != NULL; i++) {
           printf("errcs[%d]: %d %s\n", i, icp_errc_code(errcs[i]), icp_errc_code_str(errcs[i]));
           printf("errcs[%d]: %s\n", i, icp_err_str(errcs[i]));
         }
         for (int i=0; certs != NULL &amp;&amp; certs[i] != NULL; i++) {
           printf("icp_cert_subject(certs[%d]) = %s\n", i, icp_cert_subject(certs[i]));
           printf("icp_cert_issuer(certs[%d])  = %s\n", i, icp_cert_issuer(certs[i]));
         }


</PRE>
<H2>PARAMETERS</H2><PRE>
       path is a NULL-terminated string pointing to the file. (immutable)

       icp_cert (output) is a pointer to a NULL-terminated array of
       <B><A HREF="icp_cert.3.html">icp_cert(3)</A></B> which will hold all the certificates from the original
       file.

       icp_errc (output) is a pointer to a NULL-terminated array of
       <B><A HREF="icp_errc.3.html">icp_errc(3)</A></B> which will hold all the errors found during the reading
       process.


</PRE>
<H2>RETURN VALUE</H2><PRE>
       icp_new_cert_from_file returns the number of errors found.


</PRE>
<H2>SEE ALSO</H2><PRE>
       <B><A HREF="libICP.3.html">libICP(3)</A></B> - General library documentation

       <B><A HREF="icp_errc.3.html">icp_errc(3)</A></B>

       <B><A HREF="icp_cert.3.html">icp_cert(3)</A></B>



0.0.1                             2018-09-13         <B><A HREF="icp_new_cert_from_file.3.html">icp_new_cert_from_file(3)</A></B>
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
