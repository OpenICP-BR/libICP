icp_new_cert_from_file(3)         OpenICP-BR         icp_new_cert_from_file(3)



NNAAMMEE
       icp_new_cert_from_file - Loads one or more icp_cert(3) from a PEM or
       DER file

SSYYNNOOPPSSIISS
         #include "libICP.h"

         int icp_new_cert_from_file(char *path, icp_cert **certs, icp_errc **errcs);

EEXXAAMMPPLLEE
         #include "libICP.h"

         icp_cert *certs;
         icp_errc *errcs;
         int ok;

         ok = icp_new_cert_from_file("my_certs.pem", &certs, &errcs);
         printf("icp_new_cert_from_file(...) = %d\n", ok);
         for (int i=0; errcs != NULL && errcs[i] != NULL; i++) {
           printf("errcs[%d]: %d %s\n", i, icp_errc_code(errcs[i]), icp_errc_code_str(errcs[i]));
           printf("errcs[%d]: %s\n", i, icp_err_str(errcs[i]));
         }
         for (int i=0; certs != NULL && certs[i] != NULL; i++) {
           printf("icp_cert_subject(certs[%d]) = %s\n", i, icp_cert_subject(certs[i]));
           printf("icp_cert_issuer(certs[%d])  = %s\n", i, icp_cert_issuer(certs[i]));
         }

PPAARRAAMMEETTEERRSS
       path is a NULL-terminated string pointing to the file. (immutable)

       icp_cert (output) is a pointer to a NULL-terminated array of
       _i_c_p___c_e_r_t(3) which will hold all the certificates from the original
       file.

       icp_errc (output) is a pointer to a NULL-terminated array of
       _i_c_p___e_r_r_c(3) which will hold all the errors found during the reading
       process.

RREETTUURRNN VVAALLUUEE
       icp_new_cert_from_file returns the number of errors found.

SSEEEE AALLSSOO
       _l_i_b_I_C_P(3) - General library documentation

       _i_c_p___e_r_r_c(3)

       _i_c_p___c_e_r_t(3)



0.0.1                             2018-09-13         icp_new_cert_from_file(3)
